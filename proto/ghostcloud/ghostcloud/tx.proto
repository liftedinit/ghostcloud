syntax = "proto3";

package ghostcloud.ghostcloud;

import "ghostcloud/ghostcloud/deployment.proto";
import "ghostcloud/ghostcloud/deployment_meta.proto";
import "ghostcloud/ghostcloud/file.proto";

option go_package = "ghostcloud/x/ghostcloud/types";

// Msg defines the Msg service.
service Msg {
  rpc CreateDeployment (MsgCreateDeployment) returns (MsgCreateDeploymentResponse);
  rpc UpdateDeployment (MsgUpdateDeployment) returns (MsgUpdateDeploymentResponse);
  rpc UpdateDeploymentMeta (MsgUpdateDeploymentMeta) returns (MsgUpdateDeploymentMetaResponse);
  rpc DeleteDeployment (MsgDeleteDeployment) returns (MsgDeleteDeploymentResponse);
}

message MsgCreateDeployment {
  string creator      = 1;
  DeploymentMeta meta = 2;
  repeated File files = 3;
}

message MsgCreateDeploymentResponse {}

message MsgUpdateDeployment {
  string creator      = 1;
  DeploymentMeta meta = 2;
  repeated File files = 3;
}

message MsgUpdateDeploymentResponse {}

message MsgUpdateDeploymentMeta {
  string creator      = 1;
  DeploymentMeta meta = 2;
}

message MsgUpdateDeploymentMetaResponse {}

message MsgDeleteDeployment {
  string creator = 1;
  string name    = 2;
}

message MsgDeleteDeploymentResponse {}

